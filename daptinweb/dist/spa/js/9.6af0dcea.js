(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{a8e1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-breadcrumbs",{scopedSlots:t._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.2em",name:"arrow_forward",color:"black"}})]},proxy:!0}])},[a("q-breadcrumbs-el",{attrs:{label:"Integrations",icon:"fas fa-bolt"}}),a("q-breadcrumbs-el",{attrs:{label:"API Catalogue",icon:"fas fa-plug"}})],1)],1),a("q-separator"),a("div",{staticClass:"row q-pa-md q-gutter-sm"},t._l(t.integrations,(function(e){return a("div",{staticClass:"col-4 col-xl-2 col-lg-3 col-xs-12 col-sm-6 q-pa-md"},[a("q-card",[a("q-card-section",[a("span",{staticClass:"text-h6"},[t._v(t._s(e.name))])]),a("q-card-section",[a("span",[t._v("Provider")]),a("span",{staticClass:"text-bold float-right"},[t._v(t._s(e.integration_provider))])]),a("q-card-section",[a("span",[t._v("Root path")]),a("span",{staticClass:"text-bold float-right"},[t._v(t._s(e.root_path))])]),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"float-right",attrs:{size:"sm",label:"Edit integration"},on:{click:function(a){return t.showEditIntegration(e)}}})],1)])])],1)],1)})),0),a("q-page-sticky",{staticStyle:{"z-index":"3000"},attrs:{position:"bottom-right",offset:[20,20]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){t.showCreateintegrationDrawer=!0}}})],1),a("q-drawer",{attrs:{overlay:"","content-class":"bg-grey-3",width:400,side:"right"},model:{value:t.showCreateintegrationDrawer,callback:function(e){t.showCreateintegrationDrawer=e},expression:"showCreateintegrationDrawer"}},[a("q-scroll-area",{staticClass:"fit row"},[a("div",{staticClass:"q-pa-md"},[a("span",{staticClass:"text-h6"},[t._v("Create integration")]),a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{label:"Name"},model:{value:t.newIntegration.name,callback:function(e){t.$set(t.newIntegration,"name",e)},expression:"newIntegration.name"}}),a("q-input",{attrs:{label:"Root path"},model:{value:t.newIntegration.root_path,callback:function(e){t.$set(t.newIntegration,"root_path",e)},expression:"newIntegration.root_path"}}),a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.createIntegration()}}},[t._v("Create")]),a("q-btn",{on:{click:function(e){t.showCreateintegrationDrawer=!1}}},[t._v("Cancel")])],1)],1)])],1),a("q-drawer",{attrs:{overlay:"","content-class":"bg-grey-3",width:400,side:"right"},model:{value:t.showEditintegrationDrawer,callback:function(e){t.showEditintegrationDrawer=e},expression:"showEditintegrationDrawer"}},[a("q-scroll-area",{staticClass:"fit row"},[a("div",{staticClass:"q-pa-md"},[a("span",{staticClass:"text-h6"},[t._v("Edit integration")]),a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{label:"Name"},model:{value:t.newIntegration.name,callback:function(e){t.$set(t.newIntegration,"name",e)},expression:"newIntegration.name"}}),a("q-input",{attrs:{label:"Root path"},model:{value:t.newIntegration.root_path,callback:function(e){t.$set(t.newIntegration,"root_path",e)},expression:"newIntegration.root_path"}}),a("q-btn",{attrs:{color:"negative"},on:{click:function(e){return t.deleteIntegration()}}},[t._v("Delete")]),a("q-btn",{staticClass:"float-right",attrs:{color:"primary"},on:{click:function(e){return t.editIntegration()}}},[t._v("Save")]),a("q-btn",{staticClass:"float-right",on:{click:function(e){t.showEditintegrationDrawer=!1}}},[t._v("Cancel")])],1)],1)])],1)],1)},o=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7f7f"),a("c47a")),i=a.n(r),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"TablePage",methods:l(l({showEditIntegration:function(t){this.selectedIntegration=t,this.showEditintegrationDrawer=!0,this.newIntegration.name=t.name,this.newIntegration.root_path=t.root_path},deleteIntegration:function(){var t=this;console.log("Delete integration",this.selectedIntegration),this.deleteRow({tableName:"integration",reference_id:this.selectedIntegration.id}).then((function(e){t.showEditintegrationDrawer=!1,t.selectedIntegration={},t.$q.notify({title:"Success",message:"Integration deleted"}),t.refresh()})).catch((function(e){t.$q.notify({title:"Failed",message:JSON.stringify(e)})}))},editIntegration:function(){var t=this;console.log("Delete integration",this.selectedIntegration),this.newIntegration.tableName="integration",this.newIntegration.id=this.selectedIntegration.id,this.updateRow(this.newIntegration).then((function(e){t.showEditintegrationDrawer=!1,t.selectedIntegration={},t.$q.notify({title:"Success",message:"Integration updated"}),t.refresh()})).catch((function(e){t.$q.notify({title:"Failed",message:JSON.stringify(e)})}))},createIntegration:function(){var t=this;console.log("new cloud",this.newIntegration),this.newIntegration.tableName="integration",t.createRow(t.newIntegration).then((function(e){t.user={},t.$q.notify({message:"cloud integration created"}),t.refresh(),t.showCreateintegrationDrawer=!1})).catch((function(e){e instanceof Array?t.$q.notify({message:e[0].title}):t.$q.notify({message:"Failed to create cloud"})}))}},Object(s["b"])(["loadData","getTableSchema","createRow","deleteRow","updateRow","executeAction"])),{},{refresh:function(){var t="integration",e=this;this.loadData({tableName:t}).then((function(t){console.log("Loaded data",t),e.integrations=t.data}))}}),data:function(){return l({text:"",selectedIntegration:{},integrationProviderOptions:[{icon:"fas fa-aws",label:"Amazon Drive",description:"OAuth token based"},{icon:"fas fa-aws",label:"Amazon S3",description:"OAuth token based"},{icon:"fas fa-aws",label:"Backblaze B2",description:"OAuth token based"},{icon:"fas fa-aws",label:"Dropbox",description:"OAuth token based"},{icon:"fas fa-aws",label:"FTP",description:"OAuth token based"},{icon:"fas fa-aws",label:"Google Drive",description:"OAuth token based"},{icon:"fas fa-aws",label:"local",description:"The local filesystem"}],showHelp:!1,newIntegration:{name:null,integration_provider:"local",integration_type:"local",root_path:null,integration_parameters:"{}"},showCreateintegrationDrawer:!1,showEditintegrationDrawer:!1,filter:null,integrations:[],columns:[{name:"name",field:"name",label:"cloud name",align:"left",sortable:!0}]},Object(s["d"])([]))},mounted:function(){this.refresh()},computed:l(l({},Object(s["c"])(["selectedTable"])),Object(s["d"])([])),watch:{}},g=d,f=a("2877"),u=a("ead5"),h=a("0016"),w=a("079e"),b=a("eb85"),p=a("f09f"),m=a("a370"),v=a("9c40"),I=a("de5e"),q=a("9404"),y=a("4983"),_=a("0378"),C=a("27f9"),O=a("ddd8"),D=a("66e5"),k=a("4074"),x=a("0170"),E=a("d66b"),Q=a("eebe"),S=a.n(Q),j=Object(f["a"])(g,n,o,!1,null,null,null);e["default"]=j.exports;S()(j,"components",{QBreadcrumbs:u["a"],QIcon:h["a"],QBreadcrumbsEl:w["a"],QSeparator:b["a"],QCard:p["a"],QCardSection:m["a"],QBtn:v["a"],QPageSticky:I["a"],QDrawer:q["a"],QScrollArea:y["a"],QForm:_["a"],QInput:C["a"],QSelect:O["a"],QItem:D["a"],QItemSection:k["a"],QItemLabel:x["a"],QEditor:E["a"]})}}]);